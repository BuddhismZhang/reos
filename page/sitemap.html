<?xml version="1.0" encoding="UTF-8"?>
{% macro get_date(post) %}{{ post.date | date("%Y-%m-%dT%H:%M:%S+00:00") }}{% endmacro %}
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
    <url>
        <loc>http://{{ site.domain }}</loc>
        <lastmod>{{ get_date(posts[0]) }}</lastmod>
        <changefreq>weekly</changefreq>
        <priority>1.0</priority>
    </url>{% for post in posts %}
    <url>
        <loc>http://{{ site.domain }}{{ post.url }}</loc>{# post.url开头包含“/” #}
        <lastmod>{{ get_date(post) }}</lastmod>
        <changefreq>monthly</changefreq>
        <priority>0.7</priority>
    </url>{% endfor %}{% for tag in site.tags %}
    <url>
        <loc>http://{{ site.domain }}/tag/{{ tag[0] }}</loc>{# tag: [name, count] #}
        <lastmod>{{ get_date( get_data(type="post", tags=tag[0])[0] ) }}</lastmod>
        <changefreq>monthly</changefreq>
        <priority>0.5</priority>
    </url>{% endfor %}
</urlset>
